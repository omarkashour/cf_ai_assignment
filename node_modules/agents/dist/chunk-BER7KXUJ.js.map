{"version":3,"sources":["../src/ai-types.ts"],"sourcesContent":["import type { UIMessage } from \"ai\";\n\n/**\n * Enum for message types to improve type safety and maintainability\n */\nexport enum MessageType {\n  CF_AGENT_CHAT_MESSAGES = \"cf_agent_chat_messages\",\n  CF_AGENT_USE_CHAT_REQUEST = \"cf_agent_use_chat_request\",\n  CF_AGENT_USE_CHAT_RESPONSE = \"cf_agent_use_chat_response\",\n  CF_AGENT_CHAT_CLEAR = \"cf_agent_chat_clear\",\n  CF_AGENT_CHAT_REQUEST_CANCEL = \"cf_agent_chat_request_cancel\",\n\n  CF_AGENT_MCP_SERVERS = \"cf_agent_mcp_servers\",\n  CF_MCP_AGENT_EVENT = \"cf_mcp_agent_event\",\n  CF_AGENT_STATE = \"cf_agent_state\",\n  RPC = \"rpc\"\n}\n\n/**\n * Types of messages sent from the Agent to clients\n */\nexport type OutgoingMessage<ChatMessage extends UIMessage = UIMessage> =\n  | {\n      /** Indicates this message is a command to clear chat history */\n      type: MessageType.CF_AGENT_CHAT_CLEAR;\n    }\n  | {\n      /** Indicates this message contains updated chat messages */\n      type: MessageType.CF_AGENT_CHAT_MESSAGES;\n      /** Array of chat messages */\n      messages: ChatMessage[];\n    }\n  | {\n      /** Indicates this message is a response to a chat request */\n      type: MessageType.CF_AGENT_USE_CHAT_RESPONSE;\n      /** Unique ID of the request this response corresponds to */\n      id: string;\n      /** Content body of the response */\n      body: string;\n      /** Whether this is the final chunk of the response */\n      done: boolean;\n      /** Whether this response contains an error */\n      error?: boolean;\n    }\n  | {\n      /** Indicates this message is a command to clear chat history */\n      type: MessageType.CF_AGENT_CHAT_CLEAR;\n    };\n\n/**\n * Types of messages sent from clients to the Agent\n */\nexport type IncomingMessage<ChatMessage extends UIMessage = UIMessage> =\n  | {\n      /** Indicates this message is a command to clear chat history */\n      type: MessageType.CF_AGENT_CHAT_CLEAR;\n    }\n  | {\n      /** Indicates this message is a request to the chat API */\n      type: MessageType.CF_AGENT_USE_CHAT_REQUEST;\n      /** Unique ID for this request */\n      id: string;\n      /** Request initialization options */\n      init: Pick<\n        RequestInit,\n        | \"method\"\n        | \"keepalive\"\n        | \"headers\"\n        | \"body\"\n        | \"redirect\"\n        | \"integrity\"\n        | \"credentials\"\n        | \"mode\"\n        | \"referrer\"\n        | \"referrerPolicy\"\n        | \"window\"\n      >;\n    }\n  | {\n      /** Indicates this message is a command to clear chat history */\n      type: MessageType.CF_AGENT_CHAT_CLEAR;\n    }\n  | {\n      /** Indicates this message contains updated chat messages */\n      type: MessageType.CF_AGENT_CHAT_MESSAGES;\n      /** Array of chat messages */\n      messages: ChatMessage[];\n    }\n  | {\n      /** Indicates the user wants to stop generation of this message */\n      type: MessageType.CF_AGENT_CHAT_REQUEST_CANCEL;\n      id: string;\n    };\n"],"mappings":";AAKO,IAAK,cAAL,kBAAKA,iBAAL;AACL,EAAAA,aAAA,4BAAyB;AACzB,EAAAA,aAAA,+BAA4B;AAC5B,EAAAA,aAAA,gCAA6B;AAC7B,EAAAA,aAAA,yBAAsB;AACtB,EAAAA,aAAA,kCAA+B;AAE/B,EAAAA,aAAA,0BAAuB;AACvB,EAAAA,aAAA,wBAAqB;AACrB,EAAAA,aAAA,oBAAiB;AACjB,EAAAA,aAAA,SAAM;AAVI,SAAAA;AAAA,GAAA;","names":["MessageType"]}